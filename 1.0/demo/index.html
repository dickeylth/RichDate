<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>RichDate的demo</title>
    <script src="http://g.tbcdn.cn/kissy/k/1.3.0/kissy-min.js" charset="utf-8"></script>
    <!–[if lt IE9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]–>
    <link rel="stylesheet" href="http://g.tbcdn.cn/kissy/k/1.3.0/css/dpl/base-min.css">
    <link rel="stylesheet" href="http://getbootstrap.com/dist/css/bootstrap.min.css">
    <style>
        body{
            padding: 10px;
        }
        h2{
            border-bottom: 2px solid #0072DB;
        }
        pre{
            font-family: 'Monaco', 'Consolas', 'courier new';
        }
        .code{
            width: 60%;
        }
        output{
            display: block;
            margin-top: 10px;
            height: 60px;
            padding: 20px;
            background-color: #345;
            color: #fff;
        }
    </style>
</head>
<body>
<h2>RichDate的demo</h2>
<table id="demos" class="table table-hover table-responsive">
    <thead>
        <tr>
            <th class="code">代码</th>
            <th>运行</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="code">
                <pre contenteditable="true">
                    Date.parseBy('2013Year9Month5 1:2-17', 'YYYYYearMMMonthDD hh:mm-ss').toLocaleString();
                </pre>
            </td>
            <td>
                <button class="btn btn-primary">运行</button>
                <output></output>
            </td>
        </tr>
        <tr>
            <td class="code">
                <pre contenteditable="true">
                    var t = new Date(2013, 8, 6);
                    t.formatAs('YYYY year MM month DD date hh 点 mm minute ss second', true);
                </pre>
            </td>
            <td>
                <button class="btn btn-primary">运行</button>
                <output></output>
            </td>
        </tr>
        <tr>
            <td class="code">
                <pre contenteditable="true">
                    var t1 = new Date(2013, 8, 6);
                    var t2 = new Date(2016, 8 ,6);
                    [t1.isLeapYear(), t2.isLeapYear()];
                </pre>
            </td>
            <td>
                <button class="btn btn-primary">运行</button>
                <output></output>
            </td>
        </tr>
        <tr>
            <td class="code">
                <pre contenteditable="true">
                    var t = new Date(2013, 8, 6);
                    t.after('2Y2M1200m2400s').before('2Y2M1200m2400s').toLocaleString();
                </pre>
            </td>
            <td>
                <button class="btn btn-primary">运行</button>
                <output></output>
            </td>
        </tr>
    </tbody>
</table>
<script>
    var S = KISSY;

    if (S.Config.debug) {
        var srcPath = "../../../";
        S.config({
            packages:[
                {
                    name:"gallery",
                    path:srcPath,
                    charset:"utf-8",
                    ignorePackageNameInUri:true
                }
            ]
        });
    }

    S.use('gallery/RichDate/1.0/index', function (S) {

        var t1 = new Date(2013, 7, 12);
        console.log(t1.after('1Y1M').toLocaleString());

        var t2 = Date.parseBy('2012Year7Month5 1:2-17)', 'YYYYYearMMMonthDD hh:mm-ss');
        console.log(t2.toLocaleString());
        console.log(t2.formatAs('YYYY year MM month DD date hh 点 mm minute ss second', true));

        console.log(t2.after('2Y2M1200m2400s').before('2Y2M1200m2400s').toLocaleString());
        console.log(t2.before('2Y2M1200m1600s').toLocaleString());

        var t3 = Date.parseBy('2013Year 9Month7 1:2-17)', 'YYYYYear MMMonthDD hh:mm-ss');
        console.log(t3.toLocaleString());
        console.log(t3.formatAs('YYYY year MM month DD date hh 点 mm minute ss second', true));
        console.log(t3.isLeapYear());
        var t4 = t3.after('3Y');
        console.log(t4.isLeapYear());


        var $ = S.all;
        $('.btn').on('click', function(){
            var code = $(this).parent('tr').one('pre').html();
            $(this).siblings('output').text(eval(code));
        })

    })
</script>
</body>
</html>
